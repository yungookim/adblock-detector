// Generated by CoffeeScript 1.10.0
(function() {
  'use strict';
  var root;

  root = this;

  if (!root.ADBD) {
    root.ADBD = {};
  }

  root.ADBD.checkId = 'XKPW8GNRLEGYCGBWCWXBMCODQDZVWOJ4T9ERWRCC6KGXDDEPTQ';

  root.ADBD.adsjsLoaded = false;

  root.ADBD = (function() {
    function ADBD(next) {
      var adsjs, scriptElement;
      scriptElement = document.getElementsByTagName('script')[0];
      adsjs = document.createElement('script');
      adsjs.src = this.getAdjsURL();
      adsjs.onload = function() {
        var checkDOM;
        checkDOM = window.document.getElementById(root.ADBD.checkId);
        if (checkDOM) {
          next(false);
          return root.ADBD.adsjsLoaded = true;
        } else {
          next(true);
          return root.ADBD.adsjsLoaded = false;
        }
      };
      adsjs.onerror = function() {
        next(true);
        return root.ADBD.adsjsLoaded = false;
      };
      scriptElement.parentNode.insertBefore(adsjs, scriptElement);
    }

    ADBD.prototype.isAdblockPresent = function() {
      return !root.ADBD.adsjsLoaded;
    };

    ADBD.prototype.getAdjsURL = function() {
      var i, len, script, scripts;
      scripts = document.getElementsByTagName('script');
      for (i = 0, len = scripts.length; i < len; i++) {
        script = scripts[i];
        if (script.src.indexOf('adbd.js')) {
          return script.src.replace('adbd.js', './ads.js?&ad_box_=true');
        }
      }
    };

    return ADBD;

  })();

}).call(this);
